
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>topaz Documentation</title>
  <meta name="description" content="documentation page">
  <meta name="author" content="https://github.com/jcorks/topaz/">

  <link rel="stylesheet" href="../style.css?v=1.0">

</head>

<body>
<div class="navarea">
<img src="../logoreduced.png"class="navlogo">

</img>
<div class="navbar"id="navbar">

</div>

</div>
<div>
<div class="navlist">
<div>
<input class="navsearch-input"id="searchbar"type="search"onchange="docext_on_input()"oninput="docext_on_input()">

</input>

</div>
<div id="searchresults">

</div>

</div>
<div class="symbollist">
<div class="Class">
<div class="typetag">
(Class)</br>
</div>
<div>
<h1 id="topazIOX_t">
topazIOX_t
</h1>
<pre>
 The IO Translator (IOX) is responsible for interpreting byte data, translating and processing it 
 to something useful, and taking this useful data to populate an asset or file.

</pre>
<div>
</br><b>Member Functions:</b></br></br>
</div>
<div class="PublicSymbols">
<div>
<a href="topazIOX_t.html#topaz_iox_create">
topaz_iox_create()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_destroy">
topaz_iox_destroy()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_get_backend">
topaz_iox_get_backend()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_get_api">
topaz_iox_get_api()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_get_extensions">
topaz_iox_get_extensions()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_get_asset_type">
topaz_iox_get_asset_type()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_encode">
topaz_iox_encode()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_load">
topaz_iox_load()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_stream_start">
topaz_iox_stream_start()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_stream_set_threshold">
topaz_iox_stream_set_threshold()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_stream">
topaz_iox_stream()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_stream_flush">
topaz_iox_stream_flush()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_stream_finish">
topaz_iox_stream_finish()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_stream_cancel">
topaz_iox_stream_cancel()
</a>

</div>
<div>
<a href="topazIOX_t.html#topaz_iox_is_streaming">
topaz_iox_is_streaming()
</a>

</div>

</div>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</h5>
<h3 id="topaz_iox_create">
topaz_iox_create(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topaz_t.html#topaz_t">
topaz_t
</a>

</th>
<th class="FunctionArgumentName">
context,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazSystem_t.html#topazSystem_Backend_t">
topazSystem_Backend_t
</a>

</th>
<th class="FunctionArgumentName">
backend,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
topazIOXAPI_t
</th>
<th class="FunctionArgumentName">
api
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Creates a new iox object. The starting path is 
 the same upon first creating the filsys instance.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
context,
</div>
<pre>
 The topaz context.

</pre>
<div>
backend,
</div>
<pre>
 The backend to implement the backend's features.

</pre>
<div>
api
</div>
<pre>
 The raw API to implement the backend's features.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
void
</h5>
<h3 id="topaz_iox_destroy">
topaz_iox_destroy(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Destroys and cleans up a iox API


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox
</div>
<pre>
 The IOX to destroy.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
<a href="topazSystem_t.html#topazSystem_Backend_t">
topazSystem_Backend_t
</a>

</h5>
<h3 id="topaz_iox_get_backend">
topaz_iox_get_backend(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Retrieves the backend for this iox object.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox
</div>
<pre>
 The IOX to query.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
topazIOXAPI_t
</h5>
<h3 id="topaz_iox_get_api">
topaz_iox_get_api(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Returns the API for this iox.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox
</div>
<pre>
 The IOX to query.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
<a href="topazArray_t.html#topazArray_t">
topazArray_t
</a>

</h5>
<h3 id="topaz_iox_get_extensions">
topaz_iox_get_extensions(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Gets the extensions associated with this iox.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox
</div>
<pre>
 The IOX to query.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
<a href="topazAsset_t.html#topazAsset_Type">
topazAsset_Type
</a>

</h5>
<h3 id="topaz_iox_get_asset_type">
topaz_iox_get_asset_type(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Returns the asset type expected for this iox


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox
</div>
<pre>
 The IOX to query.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
void
</h5>
<h3 id="topaz_iox_encode">
topaz_iox_encode(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazAsset_t.html#topazAsset_t">
topazAsset_t
</a>

</th>
<th class="FunctionArgumentName">
asset,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
uint64_t
</th>
<th class="FunctionArgumentName">
byteCount,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazString_t.html#topazString_t">
topazString_t
</a>

</th>
<th class="FunctionArgumentName">
extension
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Writes the state of the asset to a byte buffer.
 If an error occurs or the asset is invalid, the returned size 
 is 0.
 If the requested extension isnt recognized by the io translator, 
 the returned size is 0.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox,
</div>
<pre>
 The IOX to use.

</pre>
<div>
asset,
</div>
<pre>
 The asset to encode.

</pre>
<div>
byteCount,
</div>
<pre>
 The byte count of the output buffer

</pre>
<div>
extension
</div>
<pre>
 The extension to encode the asset under.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
int
</h5>
<h3 id="topaz_iox_load">
topaz_iox_load(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazAsset_t.html#topazAsset_t">
topazAsset_t
</a>

</th>
<th class="FunctionArgumentName">
asset,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
void
</th>
<th class="FunctionArgumentName">
dataIn,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
uint64_t
</th>
<th class="FunctionArgumentName">
numBytes
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Streams raw data from memory into an asset all at once. 
 If successful, returns TRUE. This is equivalent to:
 topaz_iox_stream_start()
 topaz_iox_stream(allData)
 topaz_iox_stream_finish()


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox,
</div>
<pre>
 The IOX to use.

</pre>
<div>
asset,
</div>
<pre>
 The asset to populate.

</pre>
<div>
dataIn,
</div>
<pre>
 the data buffer to read.

</pre>
<div>
numBytes
</div>
<pre>
 The number of bytes within the buffer.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
void
</h5>
<h3 id="topaz_iox_stream_start">
topaz_iox_stream_start(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazAsset_t.html#topazAsset_t">
topazAsset_t
</a>

</th>
<th class="FunctionArgumentName">
asset
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Signals to the iox to accept a new asset to begin to decode.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox,
</div>
<pre>
 The IOX to use.

</pre>
<div>
asset
</div>
<pre>
 The asset to start decoding.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
void
</h5>
<h3 id="topaz_iox_stream_set_threshold">
topaz_iox_stream_set_threshold(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazAsset_t.html#topazAsset_t">
topazAsset_t
</a>

</th>
<th class="FunctionArgumentName">
asset,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
uint64_t
</th>
<th class="FunctionArgumentName">
threshold
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Sets the buffer size. As data is streamed to the asset,
 data is collected until this threshold is reached. WHen its reahed, 
 the data is passed to the on_stream callback for further processing.
 This can be used to control how often data is processed when 
 posting many individual stream requests. Setting a threshold of 
 0 indicates that ever topaz_iox_stream() triggers an
 on_stream call.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox,
</div>
<pre>
 The IOX to modify.

</pre>
<div>
asset,
</div>
<pre>
 The asset to set the threshold for.

</pre>
<div>
threshold
</div>
<pre>
 The new threshold.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
int
</h5>
<h3 id="topaz_iox_stream">
topaz_iox_stream(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazAsset_t.html#topazAsset_t">
topazAsset_t
</a>

</th>
<th class="FunctionArgumentName">
asset,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
void
</th>
<th class="FunctionArgumentName">
dataIn,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
uint64_t
</th>
<th class="FunctionArgumentName">
byteSize
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Called when the asset has been passed streaming data
 For more flexible performance, asset streaming is 
 buffered, meaning not every topaz_iox_stream() call
 will invoke an on-stream callback. Instead, once a threshold
 is reached, on_stream will be invoked.
 See topaz_iox_stream_set_threshold()
 If a problem occurs, the decoding process may be cancelled. If 
 such a thing were to happen, FALSE would be returned.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox,
</div>
<pre>
 The IOX to use.

</pre>
<div>
asset,
</div>
<pre>
 The asset to continue loading data into.

</pre>
<div>
dataIn,
</div>
<pre>
 The data to send.

</pre>
<div>
byteSize
</div>
<pre>
 The size of the data to send.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
int
</h5>
<h3 id="topaz_iox_stream_flush">
topaz_iox_stream_flush(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazAsset_t.html#topazAsset_t">
topazAsset_t
</a>

</th>
<th class="FunctionArgumentName">
asset
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Flushes the stream buffer. If theres any waiting data 
 whose size is below the stream threshold, then that 
 data is immediately sent to the asset via on_stream.
 If a problem occurs, the decoding process may be cancelled. If 
 such a thing were to happen, FALSE would be returned.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox,
</div>
<pre>
 The IOX to flush.

</pre>
<div>
asset
</div>
<pre>
 The asset to flush.

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
void
</h5>
<h3 id="topaz_iox_stream_finish">
topaz_iox_stream_finish(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazAsset_t.html#topazAsset_t">
topazAsset_t
</a>

</th>
<th class="FunctionArgumentName">
asset
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Called when the asset has received all bytes.
 In most cases, this is when the asset will finalize
 the data. In the case of streaming, this is called
 after stream_end has been called, signaling the end 
 of input data.
 dataIn will is a pointer representing the entire buffer 
 of data loaded in. dataSizeBytes is the length of that 
 buffer in bytes.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox,
</div>
<pre>
 The IOX to finish.

</pre>
<div>
asset
</div>
<pre>
 The asset to finish. 

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
void
</h5>
<h3 id="topaz_iox_stream_cancel">
topaz_iox_stream_cancel(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
IOX,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazAsset_t.html#topazAsset_t">
topazAsset_t
</a>

</th>
<th class="FunctionArgumentName">
asset
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Called when the stream is cancelled. If the asset is not currently being 
 streamed, no action is taken.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
IOX,
</div>
<pre>
 The IOX to cancel a stream.

</pre>
<div>
asset
</div>
<pre>
 The asset for the stream. 

</pre>

</div>
</br>
</div>
<div class="Function">
<div class="typetag">
(Function)</br>
</div>
<div>
<h5 class="FunctionReturnValue">
int
</h5>
<h3 id="topaz_iox_is_streaming">
topaz_iox_is_streaming(
</h3>
<table>
<tr>
<th class="FunctionArgumentType">
<a href="topazIOX_t.html#topazIOX_t">
topazIOX_t
</a>

</th>
<th class="FunctionArgumentName">
iox,
</th>

</tr>
<tr>
<th class="FunctionArgumentType">
<a href="topazAsset_t.html#topazAsset_t">
topazAsset_t
</a>

</th>
<th class="FunctionArgumentName">
asset
</th>

</tr>

</table>
<h3>
)
</h3>
<pre>
 Returns whether the asset is question it currently being streamed.


</pre>
<div>
<b>Arguments:</b></br></br>
</div>
<div>
iox,
</div>
<pre>
 The IOX to query.

</pre>
<div>
asset
</div>
<pre>
 The asset to query.

</pre>

</div>
</br>
</div>

</div>

</div>
<i class="symbollist credits">
Generated by Topaz v0.2.1. Johnathan Corkery, 2022. <a href="https://github.com/jcorks/topaz">https://github.com/jcorks/topaz</a>
</i>

</body>
<script src="searchindex_db.js"></script>
<script src="doclinks_db.js"></script>
<script src="../docext.js"></script>
</html>
